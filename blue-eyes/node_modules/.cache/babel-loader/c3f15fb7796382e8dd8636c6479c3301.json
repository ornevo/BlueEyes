{"ast":null,"code":"var _jsxFileName = \"/home/ororor012/Desktop/Development/Projects/BlueEyesShugarmanHackathon/code/blue-eyes/src/components/stateful/WordsBody.jsx\";\nimport { Component } from 'react';\nimport Token from \"../stateless/Token\";\nimport { XIcon, PencilIcon, CheckIcon } from '@heroicons/react/solid';\nimport Constants from \"../../constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Word(_ref) {\n  let {\n    word,\n    editMode,\n    disableEdit,\n    onEdit,\n    onWordFieldChange,\n    onDoneEditing\n  } = _ref;\n  const color = Constants.SEVERITY_TO_COLOR[word.severity];\n  let rightAction = \"\";\n  const actionsClasses = \"h-6 pb-0.5 cursor-pointer mx-1 w-6\";\n  if (editMode) rightAction = /*#__PURE__*/_jsxDEV(CheckIcon, {\n    className: actionsClasses,\n    onClick: onDoneEditing\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 23\n  }, this);else if (disableEdit) rightAction = /*#__PURE__*/_jsxDEV(PencilIcon, {\n    className: actionsClasses + \" text-stone-300 cursor-not-allowed\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 27\n  }, this);else rightAction = /*#__PURE__*/_jsxDEV(PencilIcon, {\n    className: actionsClasses,\n    onClick: () => onEdit(word.id)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 27\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid grid-cols-[auto_1fr_auto_1fr_auto] bg-white p-4 border border-b-gray-300\",\n    children: [rightAction, editMode ? /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"px-3\",\n      value: word.word,\n      autofocus: true,\n      onChange: c => onWordFieldChange('word', c.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"px-3\",\n      children: word.word\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Token, {\n      color: color,\n      customStyles: \"text-base px-3 select-none\",\n      children: Constants.SEVERITY_TO_STR[word.severity]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(XIcon, {\n      className: \"h-6 cursor-pointer mx-1 w-6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Word;\n\nfunction PlusButton(_ref2) {\n  let {\n    onClick\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClick,\n    className: \"grid cursor-pointer mx-4 place-items-center rounded-full bg-emerald-500 select-none w-12 h-12 text-2xl text-white\",\n    children: \"+\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n\n_c2 = PlusButton;\n\nclass WordsBody extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editedWord: undefined,\n      lastSearchTermChange: new Date(),\n      searchTerm: ''\n    };\n  }\n\n  onSearchTemUpdate(n) {\n    const now = new Date();\n    this.setState({\n      lastSearchTermChange: now\n    }, _ => {\n      setTimeout(() => {\n        if (this.state.lastSearchTermChange === now) this.setState({\n          searchTerm: n.target.value\n        });\n      }, 100);\n    });\n  }\n\n  onEdit(wId) {\n    this.setState({\n      editedWord: (this.props.words.filter(w => w.id === wId) || [undefined])[0]\n    });\n  }\n\n  onWordFieldChange(field, value) {\n    let currEditedWord = this.state.editedWord;\n\n    if (currEditedWord === undefined) {\n      console.log(\"Weird: for some reason tried to edit word while WordsBody container component was not in edit mode\");\n      return;\n    }\n\n    currEditedWord[field] = value;\n    console.log(this.state.editedWord, currEditedWord);\n    this.setState({\n      editedWord: currEditedWord\n    });\n  }\n\n  render() {\n    console.log('render', this.state.editedWord);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-[auto_1fr] mb-5\",\n        children: [/*#__PURE__*/_jsxDEV(PlusButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"my-1 py-1 px-3\",\n          placeholder: \"\\u05D7\\u05D9\\u05E4\\u05D5\\u05E9...\",\n          onChange: this.onSearchTemUpdate.bind(this),\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), this.props.words.filter(w => w.word.indexOf(this.state.searchTerm) !== -1).map(w => this.state.editedWord !== undefined && this.state.editedWord.id === w.id ? /*#__PURE__*/_jsxDEV(Word, {\n        word: this.state.editedWord,\n        editMode: true,\n        onWordFieldChange: this.onWordFieldChange.bind(this),\n        onDoneEditing: () => this.setState({\n          editedWord: undefined\n        })\n      }, w.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(Word, {\n        word: w,\n        editMode: false,\n        disableEdit: this.state.editedWord !== undefined,\n        onEdit: this.onEdit.bind(this)\n      }, w.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default WordsBody;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Word\");\n$RefreshReg$(_c2, \"PlusButton\");","map":{"version":3,"sources":["/home/ororor012/Desktop/Development/Projects/BlueEyesShugarmanHackathon/code/blue-eyes/src/components/stateful/WordsBody.jsx"],"names":["Component","Token","XIcon","PencilIcon","CheckIcon","Constants","Word","word","editMode","disableEdit","onEdit","onWordFieldChange","onDoneEditing","color","SEVERITY_TO_COLOR","severity","rightAction","actionsClasses","id","c","target","value","SEVERITY_TO_STR","PlusButton","onClick","WordsBody","constructor","props","state","editedWord","undefined","lastSearchTermChange","Date","searchTerm","onSearchTemUpdate","n","now","setState","_","setTimeout","wId","words","filter","w","field","currEditedWord","console","log","render","bind","indexOf","map"],"mappings":"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","sourcesContent":["import { Component } from 'react';\nimport Token from \"../stateless/Token\";\nimport { XIcon, PencilIcon, CheckIcon } from '@heroicons/react/solid'\nimport Constants from \"../../constants\";\n\n\nfunction Word({word, editMode, disableEdit, onEdit, onWordFieldChange, onDoneEditing}) {\n    const color = Constants.SEVERITY_TO_COLOR[word.severity];\n\n    let rightAction = \"\";\n    const actionsClasses = \"h-6 pb-0.5 cursor-pointer mx-1 w-6\";\n    if(editMode)\n        rightAction = <CheckIcon className={actionsClasses} onClick={onDoneEditing}/>;\n    else\n        if(disableEdit)\n            rightAction = <PencilIcon className={actionsClasses + \" text-stone-300 cursor-not-allowed\"} />;\n        else\n            rightAction = <PencilIcon className={actionsClasses} onClick={() => onEdit(word.id)}/>;\n\n    return (\n        <div className=\"grid grid-cols-[auto_1fr_auto_1fr_auto] bg-white p-4 border border-b-gray-300\">\n            {/* Edit / Done icon */}\n            { rightAction }\n\n            {/* Word label / input */}\n            {\n                editMode ? \n                <input className=\"px-3\" value={word.word} autofocus onChange={c => onWordFieldChange('word', c.target.value)} /> : \n                <span className=\"px-3\">{word.word}</span>\n\n            }\n            <Token color={color} customStyles=\"text-base px-3 select-none\">\n                {Constants.SEVERITY_TO_STR[word.severity]}\n            </Token>\n            <span></span>\n            <XIcon className={\"h-6 cursor-pointer mx-1 w-6\"}/>\n        </div>\n    )\n}\n\nfunction PlusButton({onClick}) {\n    return (\n        <div onClick={onClick}\n                className=\"grid cursor-pointer mx-4 place-items-center rounded-full bg-emerald-500 select-none w-12 h-12 text-2xl text-white\"\n        >\n            +\n        </div>\n    )\n}\n\n\nclass WordsBody extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            editedWord: undefined,\n            lastSearchTermChange: new Date(),\n            searchTerm: ''\n        };\n    }\n\n    onSearchTemUpdate(n) {\n        const now = new Date();\n        this.setState({lastSearchTermChange: now}, _ => {\n            setTimeout(() => {\n                if(this.state.lastSearchTermChange === now)\n                    this.setState({searchTerm: n.target.value});\n            }, 100);\n        })\n    }\n\n    onEdit(wId) {\n        this.setState({editedWord: (this.props.words.filter(w => w.id === wId) || [undefined])[0]});\n    }\n\n    onWordFieldChange(field, value) {\n        let currEditedWord = this.state.editedWord;\n        if(currEditedWord === undefined) {\n            console.log(\"Weird: for some reason tried to edit word while WordsBody container component was not in edit mode\");\n            return;\n        }\n        currEditedWord[field] = value;\n        console.log(this.state.editedWord, currEditedWord);\n        this.setState({editedWord: currEditedWord});\n    }\n\n    render() {\n        console.log('render', this.state.editedWord);\n        return (\n            <div className=\"p-5\">\n                <div className=\"grid grid-cols-[auto_1fr] mb-5\">\n                    <PlusButton/>\n                    <input className=\"my-1 py-1 px-3\" placeholder=\"חיפוש...\" onChange={this.onSearchTemUpdate.bind(this)} type=\"text\"/>\n                </div>\n                {/* TODO: filtering, sorting, etc... */}\n                {this.props.words.filter(w => w.word.indexOf(this.state.searchTerm) !== -1).map(w => (\n                    (this.state.editedWord !== undefined && this.state.editedWord.id === w.id)\n                    ?\n                    <Word word={this.state.editedWord} key={w.id}\n                            editMode={true} onWordFieldChange={this.onWordFieldChange.bind(this)}\n                            onDoneEditing={() => this.setState({editedWord: undefined})} />\n                    :\n                    <Word word={w} key={w.id} editMode={false} disableEdit={this.state.editedWord !== undefined} onEdit={this.onEdit.bind(this)}/>\n                ))}\n            </div>\n        );\n    }\n}\n\n\nexport default WordsBody;"]},"metadata":{},"sourceType":"module"}